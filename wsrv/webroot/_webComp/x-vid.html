
<template id="xx-vid">
  <style>
    video {
    	background: black;
    }
    
  </style>
  <div id="v1"></div>
</template>
<script id="sxv" type="text/x-dot-template">
  <video id="v1" src='{{=it.src}}' autoplay loop muted  width='360px' height='250px' >
  </video>
  
</script>
<script>
  class VidEl extends HTMLElement {
  	constructor() {
  		super()
  		this._shadowRoot = this.attachShadow({mode: 'open'})
  		const t = document.querySelector('#xx-vid')// add the dom above
  		const instance = t.content.cloneNode(true)
  		this._shadowRoot.appendChild(instance)
  	}//()
  	attributeChangedCallback(attrName, oldValue, newVal) {
  		this[attrName] = newVal
  	}
  	static get observedAttributes() {
  		return ['src']
  	}
  
  	connectedCallback() {
  		//const d = this.shadowRoot.querySelector('v1', this)//ctx
  		var tpl1 = document.getElementById('sxv').text
  		var tpl1Foo = doT.template(tpl1)
  		var data = {'src': this.src}
  		var res = tpl1Foo(data)
  		//console.log(res)
  
  		const d = this.shadowRoot.querySelector('#v1', this)//ctx
  		d.innerHTML=res
  
  		$('#v1', this).mediaelementplayer({
  			 features: ['fullscreen']
  			,controlsTimeoutDefault: 100
  			,controlsTimeoutMouseEnter: 1000
  
  			,stretching: 'fill'
  			,hideVideoControlsOnLoad: "true"
  
  			,success: function(ply, originalNode) {
  				ply.setCurrentTime(10.0)
  				console.log('ok', ply.getCurrentTime ()	)
  			}
  		})
  
  	}//()
  
  	_kill() {
  		var ply = $('#rmpLab')[0]
  		if (!ply.paused) {
  				ply.pause();	
  		}
  		ply.remove()
  	}//()
  }//class
</script>