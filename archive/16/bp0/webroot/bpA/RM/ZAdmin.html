<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"><link rel="icon" href="/favicon.ico"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="/bpA/sass/main.css" rel="stylesheet" type="text/css"><style type="riot"></style><script src="https://www.masons-foundation.org/_js/libJs/loadjs.min.js" type="text/javascript"></script><script src="//cdn.jsdelivr.net/js-signals/1.0.0/signals.min.js" type="text/javascript"></script><script src="https://www.masons-foundation.org/_js/libJs/bowser.min.js" type="text/javascript"></script><script src="/bpA/js/setup.js" type="text/javascript"></script><script src="/bpA/js/main.js" async="" type="text/javascript"></script><meta name="description" content=""><script>_loadStarted = (new Date()).getTime()</script></head><body><div id="ss1"><nav class="mui-container-fluid mui--no-user-select" id="appbar"><table width="100%"><tr><td><div id="brand">☰ &nbsp;</div></td><td class="mui--text-right"><span>bP CMS &nbsp;</span></td></tr></table></nav><div id="sidedrawer"><nav class="mui--no-user-select" id="sidenav"><h2><div class="mui--text-title" id="sidedrawer-brand">☰ &nbsp; bP CMS</div></h2><div class="mui-divider"></div><ul class="mui-list--unstyled" id="sidenavstrong"><li><a href="/post/one/">Site</a></li><li><a href="/post/two/?w=1">Content(P)</a></li><li><a href="/post/two/?w=1">Media</a></li><li><a href="/post/one/">Styles</a></li><li><a href="/post/one/">Layouts</a></li><li><a href="/post/one/">Sections</a></li><li><a href="/post/two/?w=1">Promos(C)</a></li><li><a href="/post/two/?w=1">Injected(A)</a></li><li><a href="/post/two/?w=1">Micro services</a></li><li><a href="/post/two/?w=1">Components</a></li><li><a href="/post/two/?w=1">Reports</a></li><li><a href="/post/two/?w=1">Access</a></li><li><a href="/post/two/?w=1">About</a></li></ul></nav></div><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:regular,bold,italic&amp;lang=en"><div id="content-wrapper"><div class="mui-container-fluid"><p></p><div class="mui-panel"><form class="mui-form--inline" id="frm1"><div> <legend>Admin</legend><div class="mui-textfield"><input type="text" name="data.email"><label>Email</label></div><div class="mui-textfield"><input type="text" name="data.name"><label>Name</label></div><div class="mui-textfield"><input type="text" name="data.site"><label>Site</label></div><div class="mui-textfield"><input type="text" name="data.phone"><label>Phone</label></div><div class="mui-textfield"><input type="text" name="data.role"><label>Role</label></div></div><div><div class="mui-textfield"><input type="text" name="data.socialLink"><label>Link</label></div><div class="mui-textfield"><input type="text" name="data.picUrl"><label>Picture</label></div><div class="mui-textfield"><input type="text" name="data.section"><label>Section</label></div><div class="mui-textfield"><input type="text" name="data.geo"><label>Location</label></div><div class="mui-textfield"><input type="text" name="data.tags"><label>Tag list</label></div><div class="mui-textfield"><input type="text" name="data.lastDat"><label>Date</label></div></div></form><p></p><button class="mui-btn mui-btn--raised" type="submit" id="save">save</button><button class="mui-btn mui-btn--raised" type="submit" id="refresh">refresh</button><button class="mui-btn mui-btn--raised" type="submit" id="new">new</button></div><table class="display" id="dg0" cellspacing="0" width="100%"><thead><tr><th>Email</th><th>Name</th><th>Site</th><th>Role</th><th>Last Date</th></tr></thead></table></div><script>function init() {

	console.log('init')
	dtInit()

	$('#frm1').jsForm()

	$('#save').click(function(e) { 
		e.preventDefault()
		save()
	})
}//()

function dtInit() {
	_table = $('#dg0').DataTable(
		{	'columns': [
				{ 'data': 'email' },
				{ 'data': 'name' },
				{ 'data': 'site' },
				{ 'data': 'role' },
				{ 'data': 'lastDat' }
			]
			,'searching': false
			,'info': false
			,'lengthChange': false
			,'paging': false
			,ordering: true
	} )

	$('#dg0').on('click', 'tr', function () {
		var col1 = $(this).find('td:nth-child(1)')//email
		load(col1.text())

		$('#dg0 tr').removeClass('selected')
		$(this).toggleClass('selected')
	} )

	search()
}//()

		loadjs.ready(['app-ready'], {// loaded setup libs 			success: function(){ 				init() 			} 		})//init)

function load(email_) {
	console.log(email_)
	let qry = {
		email : email_
	}

	X.fetch(ROOT, 'RMA/loadA', qry)
		.then(function(data) { // 3 done:
			console.log('loaded:')
			$('#frm1').jsForm('fill', data)

	}).catch(function(err) { //error
		console.error(err)
	})//fetch()
}//load

function search() {
	let qry = {
		dom : 'vic'
		,email : 'vic@eml.cc'
	}

	X.fetch(ROOT, 'RMA/searchA', qry)
		.then(function(data) { // 3 done:
			console.log('loaded:')
			//console.log( data)
			_table.rows.add( data ) .draw()
	}).catch(function(err) { //error
		console.error(err)
	})//fetch()
}//search
</script><p></p><p></p></div></div><footer id="footer"><div class="mui-panel"><div class="mui-container-fluid"><div class="mui-row"><div class="mui-col-sm-1 mui--hidden-xs"></div><div class="mui-col-sm-3 mui--hidden-xs"><a class="mui--hidden-xs" href="https://gitter.im/topseed-demos/Lobby">bp CMS </a></div><div class="mui-col-sm-3 mui--pull-right mui--hidden-xs"><a class="mui--hidden-xs" href="https://github.com/topseed/topseed-demos">c All rights</a></div><div class="mui-col-sm-1 mui--hidden-xs"></div></div></div></div></footer><script>//tracking script or such</script></body></html>