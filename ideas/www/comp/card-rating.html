
<template name="comp">
  <style>:host {
  color: blue; }

.star-icon {
  color: gray;
  font-size: 30px;
  position: relative; }

.star-icon.fill:before {
  color: yellow;
  content: '\2605';
  font-size: 32px;
  text-shadow: 5px 2px 2px gray;
  position: absolute;
  left: -4px;
  top: -6px; }

  </style>
  <div class="ratings--starts"><span class="star-icon fill" id="s1">☆</span><span class="star-icon" id="s2">☆</span><span class="star-icon" id="s3">☆</span><span class="star-icon" id="s4">☆</span></div>
  <div class="ratings--date"><span>Released:</span><span id="dat">1/1/1</span></div>
  <hr/>
</template>
<script>
  var	_mainDoc = document

  function stars(compCtx, el) {
  	var elN = compCtx.elHost.querySelector('#s'+el)
  	//var elN = _mainDoc.querySelector('card-ratings::shadow #s'+el)
  	elN.className += ' fill'
  	return elN
  }

  function regCompClass(compCtx, tag ) {
  	// boillerplate - could be moved to a .js class
  	console.log(tag)
  	var tdoc = document.currentScript.ownerDocument
  	var t = tdoc.querySelector('template[name="comp"]')

  	compCtx.createdCallback = function() { // after reg - it's created
  		//var id=$(this).attr('id')
  		//console.log('comp: ' + id)
  		var clone = _mainDoc.importNode(t.content, true)

  		compCtx.elHost =this.createShadowRoot()
  		compCtx.elHost.appendChild(clone) // put it in dom
  	}

  	compCtx.attributeChangedCallback = function(name, oldVal, newVal) {
  		console.log(name+newVal)
  		stars(compCtx, newVal)
  	}

  	document.registerElement(tag, { // new element self register w/ parent doc: must have '-''
  		prototype: compCtx
  	})

  }//()


</script>
<script>
  var _compR1 = Object.create(HTMLElement.prototype)
  var _compR2 = Object.create(HTMLElement.prototype)

  regCompClass(_compR1, 'card-rating1')
  regCompClass(_compR2, 'card-rating2')
</script>
