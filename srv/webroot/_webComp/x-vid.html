
<template id="xx-vid">
  <style>
    video {
    	background: black;
    }
    
  </style>
  <div id="v1"></div>
</template>
<script id="sxv" type="text/x-dot-template">
  <video id="v1" src='{{=it.src}}' autoplay loop muted  width='360px' height='250px' >
  </video>
  
</script>
<script>
  var VidEl = Object.create(HTMLElement.prototype)
  VidEl.createdCallback = function() {
  	var t = document.querySelector('#xx-vid')
  	var clone = document.importNode(t.content, true)
  	var shadow = this.attachShadow({mode: 'open'})
  	shadow.appendChild(clone)
  
  	var tpl1 = document.getElementById('sxv').text
  	var tpl1Foo = doT.template(tpl1)
  	var src = this.getAttribute('src')
  	var data = {'src': src}
  	var res = tpl1Foo(data)
  	//console.log(res)
  
  	const d = shadow.querySelector('#v1')//ctx
  	d.innerHTML=res
  
  	$('#v1', this).mediaelementplayer({
  		features: ['fullscreen']
  		,controlsTimeoutDefault: 100
  		,controlsTimeoutMouseEnter: 100
  		,controlsTimeoutMouseLeave: 100
  		,stretching: 'fill'
  		//,hideVideoControlsOnLoad: "true"
  		,success: function(ply, originalNode) {
  			ply.setCurrentTime(5.0)
  			console.log('ok', ply.getCurrentTime ()	)
  		}
  	})
  
  }//()
  
  function _kill() {
  	var ply = $('#rmpLab')[0]
  	if (!ply.paused) {
  			ply.pause();	
  	}
  	ply.remove()
  }//()
</script>