<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <link rel="icon" href="/favicon.ico">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script src="https://cdn.rawgit.com/topseed/topseed-npm/master/v1.09/deps/loadjs.min.js" type="text/javascript"></script>
    <script src="//cdn.jsdelivr.net/js-signals/1.0.0/signals.min.js" type="text/javascript"></script>
    <script src="https://cdn.rawgit.com/topseed/topseed-npm/master/v1.09/setup.js" type="text/javascript"></script>
    <script src="/_js/CDS.js" type="text/javascript"></script>
    <script src="/_js/main.js" async="" type="text/javascript"></script>
    <link rel="stylesheet" href="/_sass/main.css" type="text/css">
    <meta name="description" content="">
  </head>
  <body>
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Noto+Serif" rel="stylesheet">
    <script type="riot/tag" src="/_uiComps/home-card.html"></script>
    <script type="riot/tag" src="/_uiComps/x-vid.html"></script>
    <div id="ss1">
      <div id="appbar"><a href="#sidedrawer" id="appbar--brand">&nbsp; ☰ &nbsp;<span class="mui--hidden-xs">M-Foundation.org</span></a>
        <div id="appbar--push"></div>
        <ul class="mui-list--inline" id="appbar--menu">
          <li><a href="/home/feed/">Home</a></li>
          <li><a href="/home/fts/">Search</a></li>
        </ul>
      </div>
      <div class="mui--z1" id="sidedrawer"><a href="#" id="sidedrawer--brand">&nbsp; ☰ &nbsp;<span>M-Foundation.org</span></a>
        <div class="mui-divider"></div>
        <ul class="mui-list--unstyled" id="sidedrawer--menu">
          <li><a href="/home/feed/">Home</a></li>
          <li><a href="/home/fts/">Search</a></li>
        </ul>
      </div>
      <div id="content-wrapper0"> </div>
      <div id="content-wrapper">
        <div class="mui-container-fluid"><h1 id="app-shell-s-p-a-">App Shell + S.P.A.</h1>
<h3 id="w-pug-jade-and-smooth-state-js">w/ Pug(Jade) and Smooth State js</h3>
<p>One of the PWA fundamental concepts is the app shell. We will create 2 page SPA, with reusable header and footer. I will assume you know how to use pre-processors. A pre processor,
 for example would compile Sass into CSS. In our case, we will compile Pug(Jade) into html. Pug will help us combine header and footer to our page.</p>
<h3 id="0-pre-process-generate-and-setup">0. Pre-process(/generate) and setup</h3>
<p>There are several popular HTML pre-processors - for example if you use CodePen.io, you can glance the settings to see some. One of the popular ones is Pug.
If you are new to Pug(Jade), you can glance</p>
<ul>
<li><a href="http://youtube.com/watch?v=wzAWI9h3q18">http://youtube.com/watch?v=wzAWI9h3q18</a> and</li>
<li><a href="http://html2jade.org">http://html2jade.org</a></li>
</ul>
<p>You should download <a href="http://github.com/cekvenich/what/blob/master/as.zip?raw=true">http://github.com/cekvenich/what/blob/master/as.zip?raw=true</a>
and unzip.</p>
<h5 id="out-of-scope-">Out of scope:</h5>
<p>I don&#39;t have space here to write about pre-processing, I assume you know how. But here is a few words:
There are many ways to pre-process, compile Pug to html. This is also called static app generation. The resulting output can run completely on a CDN - so that it has the benefits
of being distributed.
If you are very new to using pre-processors, you may want to start with something like:</p>
<ul>
<li><p><a href="http://prepros.io">http://prepros.io</a>.
But I use npm/node to write a script - that script calls a Pug npm module, via</p>
<pre><code>  node _sync
</code></pre></li>
</ul>
<p>So if you go to unzipped folder _pre you can run &#39;node _sync&#39; as test.
Then run &#39;node _sync&#39; in folder /post/one and /post/two.</p>
<h5 id="in-scope-">In scope:</h5>
<p>You should know how to take a .pug file and make it into html. It is a pre-requsite.</p>
<h3 id="1-header-and-footer">1. Header and footer</h3>
<p>In the unziped folder /_part there is header and footer:</p>
<ul>
<li><a href="http://github.com/cekvenich/what/tree/master/app-shell.site44.com/_part">http://github.com/cekvenich/what/tree/master/app-shell.site44.com/_part</a></li>
</ul>
<p>We want to have a body:</p>
<pre><code>    &lt;h1&gt;hi1&lt;/h1&gt;
</code></pre><ul>
<li><a href="http://github.com/cekvenich/what/blob/master/app-shell.site44.com/post/one/index.html">http://github.com/cekvenich/what/blob/master/app-shell.site44.com/post/one/index.html</a></li>
</ul>
<p>And a second page:</p>
<pre><code>    &lt;h1&gt;hi2&lt;/h1&gt;
</code></pre><ul>
<li><a href="http://github.com/cekvenich/what/blob/master/app-shell.site44.com/post/two/index.html">http://github.com/cekvenich/what/blob/master/app-shell.site44.com/post/two/index.html</a></li>
</ul>
<p>But we don&#39;t want D.R.Y. header and footer. Server side you could include header and header in PHP, JSP or ASP or such.
But we are doing a static site.</p>
<h3 id="2-create-the-2-pages">2. Create the 2 pages</h3>
<p>In post/one and post/two, create index.pug.
Index pug will call the app shell:</p>
<ul>
<li><p><a href="http://github.com/cekvenich/what/blob/master/app-shell.site44.com/_part/_shellA-base.pug">http://github.com/cekvenich/what/blob/master/app-shell.site44.com/_part/_shellA-base.pug</a>
The app shell is using Pug syntax to create a &#39;menu&#39;.
Now run &#39;node _sync&#39; in folder one and folder two. The generated nav will look like:</p>
<pre><code>  &lt;ul class=&quot;mui-list--inline&quot; id=&quot;topMenu&quot;&gt;
      &lt;li&gt;&lt;a href=&quot;/post/one/&quot;&gt;Item 1&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;/post/two/&quot;&gt;Item 2&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
</code></pre></li>
</ul>
<h3 id="3-spa">3. SPA</h3>
<p>Notice we also have some js in the app shell:</p>
<pre><code>        &lt;script src=&quot;/_js/libJs/head.load.min.js&quot;&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
    &lt;footer &gt;
        &lt;script&gt;head.load(&#39;/_js/main.js&#39;)&lt;/script&gt;
</code></pre><p>Head js is a loader. We load:</p>
<ul>
<li><a href="http://github.com/cekvenich/what/blob/master/app-shell.site44.com/_js/main.js">http://github.com/cekvenich/what/blob/master/app-shell.site44.com/_js/main.js</a></li>
</ul>
<p>For SPA, we just lifted code from:</p>
<ul>
<li><a href="http://github.com/miguel-perez/smoothState.js">http://github.com/miguel-perez/smoothState.js</a></li>
</ul>
<p>Congrats: you are done w/ App-Shell and SPA.</p>
<h3 id="4-spa">4. SPA</h3>
<p>Review example on SmoothState.js site.</p>
<h3 id="5-advanced-using-md">5. Advanced: Using MD</h3>
<p>An advanced use would be to use Markdown files(MD) to help generate content. Something that you can do w/ Pug or preprocessors. You should mix a few .md files in your pug file;  and use mostly pug - especially for UI effects.</p>
<h3 id="6-advanced-starting-w-a-layout">6. Advanced: Starting w/ a layout</h3>
<p>When you create app shell, normally you start w/ a layout you like. For example:
<a href="http://muicss.com/docs/v1/example-layouts/responsive-side-menu">http://muicss.com/docs/v1/example-layouts/responsive-side-menu</a>
I usually convert html2pug to make it easier to work with.
I then split out header and footer out - away from the &#39;middle&#39; content. In this way, I splice an app-shell.</p>

        </div>
      </div>
      <div id="footer">
        <div id="footer_div"><a href="https://gitter.im/topseed-demos/Lobby" target="_blank">Forum </a>
          <div id="footer_div--push"></div>
          <div id="footer_div--right"><a href="https://github.com/topseed/topseed-demos" target="_blank">Kitchen Sink</a></div>
        </div>
        <link rel="prefetch" href="https://cse.google.com/cse.js?cx=015406677380205718189:esv77diws9e">
        <link rel="prefetch" href="https://www.masons-foundation.org/home/feed/">
        <link rel="prerender" href="https://www.masons-foundation.org/home/feed/">
        <script type="text/javascript">
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
          
          ga('create', 'UA-82096733-1', 'auto');
          ga('send', 'pageview');
        </script>
      </div>
    </div>
  </body>
</html>